# 产品详细设计文档生成 Skill（去技术化版）

## Skill 概述

本 Skill 帮助产品经理生成"去技术化"的详细设计文档，聚焦于**业务逻辑、交互行为与数据规则**的定义，消除需求文档（PRD）与开发实现之间的模糊地带。

## 核心理念

> **产品经理负责"做什么"（What & Why），技术团队负责"怎么做"（How）**

**产品经理应该定义：**
- ✅ 业务逻辑是什么（业务对象、状态流转、业务规则）
- ✅ 为什么要这样设计（业务价值、用户需求）
- ✅ 用户如何交互（业务流程、界面交互、操作步骤）
- ✅ 数据如何流转和约束（数据精度、交换规则、约束条件）

**技术团队负责：**
- 数据库表结构设计
- API接口定义（REST/GraphQL等）
- 技术架构选型
- 代码逻辑实现

## 使用方法

在 Claude Code 中调用此 Skill：

```
请帮我为[项目名称]生成产品详细设计文档
```

## 交互流程

### 1. 收集项目基本信息

**必填信息：**
- 项目名称和描述
- 项目背景（解决什么业务问题）
- 项目目标（达成什么业务价值）
- 目标用户（谁会使用这个系统）

**可选信息：**
- 项目规模（小型/中型/大型）
- 特殊业务要求
- 参考的系统或产品

### 2. 确定文档范围

**确认核心业务对象：**
- 有哪些核心业务对象？（客户、订单、产品、合同...）
- 哪些是核心单据？（需要状态机设计）

**确认功能模块：**
- 包含哪些功能模块？
- 各模块之间的依赖关系？

**确认数据交换：**
- 是否需要与其他系统集成？（ERP、PLM、钉钉...）

### 3. 生成定制化文档

基于模板自动生成：
- 6章完整框架
- 业务对象关系图（ERD）
- 状态机设计模板
- BPMN 2.0流程图
- 交互说明表模板
- 业务处理步骤模板

### 4. 输出文档

- Markdown 格式文档
- 可直接用于项目文档
- 支持 Git 版本控制
- 可导出为 PDF/Word（需按格式要求调整）

## 文档格式要求

> **所有详细设计文档必须遵从以下排版参数，以确保打印与归档的统一性。**

### 页面设置

- **纸张大小**：A4 标准纸
- **页边距**：左右边距 3.18cm，上下边距 2.54cm
- **页码**：页脚居中显示

### 正文格式

- **字体**：宋体，小四号（12pt）
- **行距**：1.5倍
- **首行缩进**：正文段落首行缩进 2 字符
- **英文字体**：Times New Roman（用于数字、英文单词）

### 标题分级标准

文档标题严格执行以下分级标准：

| 标题级别 | 字号 | 格式 | 序号格式 | 示例 |
|---------|------|------|----------|------|
| 一级标题 | 二号（22pt） | 加粗 | 中文数字"一、" | 一、文档概览 |
| 二级标题 | 小二（18pt） | 加粗 | 中文数字加括号"（一）" | （一）项目背景 |
| 三级标题 | 三号（16pt） | 加粗 | 阿拉伯数字"1." | 1. 业务背景 |
| 四级标题 | 小四（12pt） | 加粗 | 阿拉伯数字加括号"（1）" | （1）业务痛点 |

### 格式转换说明

**从 Markdown 到 Word/PDF：**

本模板使用 Markdown 格式编写以支持版本控制，导出为 Word/PDF 时需按上述格式调整：

| Markdown格式 | Word格式 |
|-------------|----------|
| `#` 标题 | 一、标题（二号，加粗） |
| `##` 标题 | （一）标题（小二，加粗） |
| `###` 标题 | 1. 标题（三号，加粗） |
| `####` 标题 | （1）标题（小四，加粗） |

## 功能特性

### 完全去技术化

**避免：**
- ❌ 编程语言语法（Java/C#/Python/SQL等）
- ❌ 数据库设计（CREATE TABLE/INDEX等）
- ❌ API接口定义（REST/GraphQL/Swagger等）
- ❌ 技术架构选型（微服务/Docker/K8s等）

**包含：**
- ✅ 业务对象定义
- ✅ 状态流转规则
- ✅ 业务流程设计（BPMN 2.0）
- ✅ 界面交互说明
- ✅ 数据交换需求

### 7章标准化结构

1. **文档概览** - 背景、目标、范围、术语
2. **系统功能架构** - 业务模块关系、角色与权限
3. **核心业务对象** - ERD图、状态机设计
4. **功能模块设计** - BPMN流程、界面交互、处理步骤
5. **数据交换需求** - 与其他系统的数据交换
6. **业务约束与体验要求** - 用户体验、业务规则、安全合规
7. **附录** - 参考文献、相关文档

### 实用的模板组件

**状态机设计：**
- 状态定义表
- Mermaid状态流转图
- 状态转换规则表（5列：当前状态、触发操作、前置条件、转换后状态、系统动作）

**界面交互说明：**
- 界面布局图
- 交互说明表（元素类型、输入限制、联动规则、提示信息、默认值）

**业务处理步骤：**
- 步骤化描述（非伪代码）
- 清晰的逻辑顺序

## 文档结构说明

### 第1章：文档概览
- 项目背景与目标（业务问题、业务价值）
- 范围与边界（做什么、不做什么）
- 术语与定义（统一业务语言）

### 第2章：系统功能架构
- 业务模块关系（客户管理→订单管理→生产管理）
- 角色与权限（销售经理、技术主管、仓储员...）

### 第3章：核心业务对象 ⭐
- 业务对象关系图（ERD，无PK/FK标记）
- 业务对象属性说明（填写说明、数据来源、备注）
- 状态机设计（状态定义、流转图、转换规则表）

### 第4章：功能模块设计
- 业务流程设计（BPMN 2.0流程图）
- 界面与交互（界面布局、交互说明表）
- 业务处理步骤（步骤1/2/3/4/5）

### 第5章：业务约束与体验要求
- 用户体验要求（响应速度、易用性、可用性）
- 业务规则约束（数据精度、长度限制、逻辑约束）
- 安全与合规（访问控制、数据安全、操作审计）

### 第6章：附录
- 参考文献（GB/T 8567-2006、BPMN 2.0标准）
- 相关文档（PRD、测试用例、用户手册）

## 适用场景

**非常适合：**
- 产品经理编写详细设计文档
- 产品负责人规划功能模块
- 业务分析师梳理业务流程
- 需求评审与开发交接

**不适合：**
- 技术架构设计（请使用技术架构文档TDD）
- 数据库表结构设计（请由DBA或后端开发负责）
- API接口定义（请由后端开发负责）
- 部署运维方案（请由DevOps负责）

## 与技术文档的区别

| 维度 | 本文档（产品详细设计） | 技术架构文档（TDD） |
|------|---------------------|-------------------|
| **目标读者** | 产品经理、业务分析师、开发人员 | 架构师、技术负责人 |
| **核心内容** | 业务逻辑、交互行为、数据规则 | 技术架构、数据库设计、API定义 |
| **描述方式** | 业务语言、表格、流程图 | 技术语言、类图、时序图 |
| **状态机设计** | 业务状态定义 + 流转规则 | 状态模式实现 + 代码结构 |
| **对象模型** | 业务对象关系 + 属性说明 | ERD图 + 表结构 + 索引 |
| **流程描述** | BPMN 2.0流程图 + 步骤说明 | 时序图 + 活动图 |
| **数据交换** | 数据项 + 对应关系 | REST API + JSON Schema |
| **约束说明** | 业务规则 + 用户体验 | 性能指标 + 并发数 |

## 质量保证

### 文档完整性检查

- [ ] 7个章节都已填写
- [ ] 核心业务对象有ERD图
- [ ] 核心单据有状态机设计
- [ ] 关键流程有BPMN图
- [ ] 交互界面有说明表

### 去技术化检查

- [ ] 无编程语言语法
- [ ] 无数据库设计语句
- [ ] 无API接口定义
- [ ] 无技术架构选型

### 业务聚焦检查

- [ ] 业务对象定义清晰
- [ ] 状态流转规则完整
- [ ] 界面交互逻辑明确
- [ ] 数据规则约束具体

### 可测试性检查

- [ ] 每个业务规则可验证
- [ ] 状态机路径可覆盖
- [ ] 交互逻辑可测试
- [ ] 数据约束可检查

## 输出示例

使用此 Skill 将生成：

- ✅ 完整的7章结构
- ✅ 业务对象关系图（Mermaid ERD）
- ✅ 状态机设计（定义表 + 流转图 + 转换规则表）
- ✅ BPMN 2.0流程图（Mermaid flowchart）
- ✅ 交互说明表（输入限制、联动规则、提示信息）
- ✅ 业务处理步骤（非伪代码）
- ✅ 数据交换对应表
- ✅ 用户体验要求表
- ✅ 业务规则约束表

## 常见问题

**Q: 是否需要填写所有章节？**

A: 核心章节（1-4章）必须填写，其他章节根据项目实际情况调整。

**Q: 状态机设计是必须的吗？**

A: 是的，每个核心单据（合同、订单、单据）都必须包含完整的状态机设计。

**Q: 如何判断内容是否过于技术化？**

A: 检查是否包含编程语法、数据库设计、API定义、技术架构选型等，如果有，说明过于技术化。

**Q: 与开发人员如何对接？**

A: 产品经理编写本文档，技术负责人基于本文档编写技术架构文档（TDD），开发人员基于TDD进行开发。

**Q: 文档应该在什么时候编写？**

A: 在PRD评审通过后，开发开始前编写。作为需求评审和开发交接的重要文档。

## 工具推荐

### 文档编写
- **Markdown编辑器**：Typora, VS Code, Obsidian
- **图表工具**：Mermaid（推荐，版本控制友好）
- **版本控制**：Git, GitHub, GitLab

### 文档导出
- **PDF导出**：Typora, VS Code插件, Pandoc
- **Word导出**：Pandoc

## 参考标准

- GB/T 8567-2006 计算机软件文档编制规范
- BPMN 2.0 业务流程模型与符号标准
- 天云聚合详细设计文档规范（去技术化版）

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request 来改进此 Skill！

---

**项目地址**: https://github.com/kehan857/Standardized-product-skill.git
**版本**: v2.0 (去技术化版)
**最后更新**: 2026-01-14
